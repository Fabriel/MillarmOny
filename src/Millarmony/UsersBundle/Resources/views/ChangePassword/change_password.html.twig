{% extends 'MillarmonyUsersBundle::layout.html.twig' %}

{% block title %}Changement de mot de passe{% endblock %}

{% block content %}
<div class="container registration">

    {% for flashMessage in app.session.flashbag.get('info') %}
        <div class="alert alert-success text-center">
            {{ flashMessage }}
        </div>
    {% endfor %}

    <div class="row">

        <div class="box">

            <hr>
            <h2 class="intro-text text-center"><strong>Changement de mot de passe</strong></h2>
            <hr>
            <br />

            {{ form_start(form, { 'action': path('fos_user_change_password'),
                'attr': { 'class': 'fos_user_change_password; form-horizontal'
                } }) }}
            {{ form_errors(form) }}

            <div class="form-group text-center">
                <label for="current_password">Mot de passe actuel :</label>
                <div class="col-lg-12">
                    {{ form_errors(form.current_password) }}
                    {{ form_widget(form.current_password, { 'attr':  {
                        'class': 'form-control',
                        'style': 'max-width: 200px; text-align: center; margin: auto'
                    }}) }}
                </div>
            </div>

            <div class="form-group text-center">
                <label for="plainPassword.first">Nouveau mot de passe :</label>
                <div class="col-lg-12">
                    {{ form_errors(form.plainPassword.first) }}
                    {{ form_widget(form.plainPassword.first, { 'attr':  {
                        'class': 'form-control',
                        'style': 'max-width: 200px; text-align: center; margin: auto'
                    }}) }}
                </div>
            </div>

            <div class="form-group text-center">
                <label for="form.plainPassword.second">Confirmation du nouveau mot de passe :</label>
                <div class="col-lg-12">
                    {{ form_errors(form.plainPassword.second) }}
                    {{ form_widget(form.plainPassword.second, { 'attr':  {
                        'class': 'form-control',
                        'style': 'max-width: 200px; text-align: center; margin: auto'
                    }}) }}
                </div>
            </div>

            <div class="form-group text-center">
                <div class="col-lg-12">
                    <input type="submit" class="btn btn-secondary" style="border: 1px solid; border-radius: 5px;" value="Valider" />
                </div>
            </div>

            {{ form_rest(form) }}

            {{ form_end(form) }}

        </div>

    </div>

</div>
{% endblock %}
